[{"/home/skull/lab-report-management-system/src/index.js":"1","/home/skull/lab-report-management-system/src/pages/App.js":"2","/home/skull/lab-report-management-system/src/pages/Login.js":"3","/home/skull/lab-report-management-system/src/pages/Dashboard.js":"4","/home/skull/lab-report-management-system/src/constants.js":"5","/home/skull/lab-report-management-system/src/pages/ResetPassword.js":"6","/home/skull/lab-report-management-system/src/contexts/AuthContext.js":"7","/home/skull/lab-report-management-system/src/components/index.js":"8","/home/skull/lab-report-management-system/src/pages/UpdatePassword.js":"9","/home/skull/lab-report-management-system/src/pages/CreateReport.js":"10","/home/skull/lab-report-management-system/src/pages/Reports.js":"11","/home/skull/lab-report-management-system/src/firebase.config.js":"12","/home/skull/lab-report-management-system/src/components/NavigationBar.js":"13","/home/skull/lab-report-management-system/src/components/PrivateRoute.js":"14","/home/skull/lab-report-management-system/src/components/QuickAccessButtons.js":"15","/home/skull/lab-report-management-system/src/components/Layouts/Layout.js":"16","/home/skull/lab-report-management-system/src/services/firebase.service.js":"17","/home/skull/lab-report-management-system/src/components/Form/ReactiveFields/ExpiryDateField.js":"18","/home/skull/lab-report-management-system/src/components/Form/ReactiveFields/Pregnancy.js":"19","/home/skull/lab-report-management-system/src/components/Form/ReactiveFields/DisplayPhoto.js":"20","/home/skull/lab-report-management-system/src/components/Form/TextArea.js":"21","/home/skull/lab-report-management-system/src/components/Form/FileUpload.js":"22","/home/skull/lab-report-management-system/src/utils/data.helper.js":"23","/home/skull/lab-report-management-system/src/utils/date.helper.js":"24","/home/skull/lab-report-management-system/src/components/Form/TextField.js":"25","/home/skull/lab-report-management-system/src/components/Form/SelectField.js":"26","/home/skull/lab-report-management-system/src/components/Form/DateField.js":"27","/home/skull/lab-report-management-system/src/components/Form/TextFieldWithUnit.js":"28","/home/skull/lab-report-management-system/src/components/Layouts/Col.js":"29","/home/skull/lab-report-management-system/src/utils/pdfLib.js":"30","/home/skull/lab-report-management-system/src/components/Heading.js":"31"},{"size":199,"mtime":1627051683940,"results":"32","hashOfConfig":"33"},{"size":1708,"mtime":1627051683940,"results":"34","hashOfConfig":"33"},{"size":2288,"mtime":1627051683940,"results":"35","hashOfConfig":"33"},{"size":795,"mtime":1627051683940,"results":"36","hashOfConfig":"33"},{"size":2638,"mtime":1627206522102,"results":"37","hashOfConfig":"33"},{"size":2035,"mtime":1627051683940,"results":"38","hashOfConfig":"33"},{"size":1313,"mtime":1627051683940,"results":"39","hashOfConfig":"33"},{"size":259,"mtime":1627051683940,"results":"40","hashOfConfig":"33"},{"size":2079,"mtime":1627051683940,"results":"41","hashOfConfig":"33"},{"size":15167,"mtime":1627234363072,"results":"42","hashOfConfig":"33"},{"size":6975,"mtime":1627233636168,"results":"43","hashOfConfig":"33"},{"size":688,"mtime":1627207194960,"results":"44","hashOfConfig":"33"},{"size":3691,"mtime":1627051683940,"results":"45","hashOfConfig":"33"},{"size":409,"mtime":1627051683940,"results":"46","hashOfConfig":"33"},{"size":788,"mtime":1627051683940,"results":"47","hashOfConfig":"33"},{"size":214,"mtime":1627051683940,"results":"48","hashOfConfig":"33"},{"size":3416,"mtime":1627233130224,"results":"49","hashOfConfig":"33"},{"size":1074,"mtime":1627051683940,"results":"50","hashOfConfig":"33"},{"size":659,"mtime":1627051683940,"results":"51","hashOfConfig":"33"},{"size":467,"mtime":1627051683940,"results":"52","hashOfConfig":"33"},{"size":586,"mtime":1627051683940,"results":"53","hashOfConfig":"33"},{"size":1678,"mtime":1627051683940,"results":"54","hashOfConfig":"33"},{"size":1851,"mtime":1627062149760,"results":"55","hashOfConfig":"33"},{"size":521,"mtime":1627054257936,"results":"56","hashOfConfig":"33"},{"size":575,"mtime":1627051683940,"results":"57","hashOfConfig":"33"},{"size":622,"mtime":1627051683940,"results":"58","hashOfConfig":"33"},{"size":626,"mtime":1627051683940,"results":"59","hashOfConfig":"33"},{"size":763,"mtime":1627051683940,"results":"60","hashOfConfig":"33"},{"size":423,"mtime":1627051683940,"results":"61","hashOfConfig":"33"},{"size":2671,"mtime":1627064143869,"results":"62","hashOfConfig":"33"},{"size":255,"mtime":1627051683940,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"kognc5",{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"66"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"/home/skull/lab-report-management-system/src/index.js",[],["128","129"],"/home/skull/lab-report-management-system/src/pages/App.js",[],"/home/skull/lab-report-management-system/src/pages/Login.js",[],"/home/skull/lab-report-management-system/src/pages/Dashboard.js",[],"/home/skull/lab-report-management-system/src/constants.js",[],"/home/skull/lab-report-management-system/src/pages/ResetPassword.js",[],"/home/skull/lab-report-management-system/src/contexts/AuthContext.js",[],"/home/skull/lab-report-management-system/src/components/index.js",[],"/home/skull/lab-report-management-system/src/pages/UpdatePassword.js",[],"/home/skull/lab-report-management-system/src/pages/CreateReport.js",["130"],"/home/skull/lab-report-management-system/src/pages/Reports.js",["131"],"import React, { useState, useRef, useEffect } from \"react\";\nimport { Container, Row, Col, Table, Button, Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport toast, { Toaster } from 'react-hot-toast';\n\nimport ReportsApi from \"../services/firebase.service\";\nimport generatePdf from \"../utils/pdfLib\";\nimport { SEARCH_OPTIONS } from \"../constants\";\n\nfunction Reports() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [removing, setRemoving] = useState(false);\n  const [downloading, setDownloading] = useState(false);\n\n  const searchRef = useRef();\n  const selectRef = useRef();\n\n  async function findReports(e) {\n    e.preventDefault();\n    setLoading(true);\n\n    const value = searchRef.current.value.toUpperCase();\n    const option = selectRef.current.value;\n\n    // const api = new ReportsApi();\n    const result = await ReportsApi.find(option, value);\n\n    if (!result.empty) {\n      setData(result.docs);\n    } else {\n      setData([]);\n    }\n\n    setLoading(false);\n    return;\n  }\n\n  const deleteReport = async (id) => {\n    setRemoving(true);\n    const toastId = toast.loading(\"Deleting report and the accociated data\")\n    const { photoName }  = data.find((report) => report.id === id).data()\n    try {\n      await ReportsApi.delete(photoName, id);\n      toast.success(\"Report Deleted Successfully\", {id: toastId});\n    }\n    catch (err) {\n      console.log(err);\n      toast.error(`${err}`, {id: toastId});\n    }\n\n    const newData = data.filter((report) =>  report.id !== id);\n    setData(newData);\n    setRemoving(false);\n  };\n\n  const downloadReport = async (id, flag) => {\n    setDownloading(true);\n    const toastId = toast.loading(\"Downloading report\")\n\n    const reportData = data.find((report) => report.id == id).data();\n    \n    try {\n      await generatePdf(reportData, flag);\n      toast.success(\"Report Generated Successfully\", {id: toastId})\n    }\n    catch (err) {\n      console.log(err);\n      toast.error(\"An error occured, please try again\", { id: toastId })\n    }\n\n    setDownloading(false);\n  }\n\n  useEffect(() => {\n    async function fetchReports() {\n      const toastId = toast.loading(\"Loading report...\");\n      \n      try {\n        const reports = await ReportsApi.get();\n        setData(reports.docs);\n        toast.success(`Fetched ${reports.docs.length} reports`, {id: toastId});\n      }\n      catch (err) {\n        console.log(err);\n        toast.error(\"An error occured!\", {id: toastId});\n      }\n    }\n\n    fetchReports();\n  }, []);\n\n  return (\n    <Container className=\"p-4 text-center\" fluid>\n\n      <Toaster />\n\n      <Form onSubmit={findReports}>\n        <Row>\n          <Col className=\"text-left\">\n            <Form.Group>\n              <Form.Label style={{ fontWeight: \"bold\" }}>Find By</Form.Label>\n              <Form.Control as=\"select\" ref={selectRef} custom>\n                {Object.keys(SEARCH_OPTIONS).map((option, index) => {\n                  return (<option value={SEARCH_OPTIONS[option]} key={index}>{option}</option>)\n                })}\n              </Form.Control>\n            </Form.Group>\n          </Col>\n          <Col xs={7}>\n            <Form.Group style={{ marginTop: \"8px\" }}>\n              <Form.Label></Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"search reports\"\n                ref={searchRef}\n              />\n            </Form.Group>\n          </Col>\n          <Col>\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              style={{\n                marginTop: \"2rem\",\n                marginLeft: \"-4rem\",\n                paddingLeft: \"2rem\",\n                paddingRight: \"2rem\",\n                letterSpacing: \".2rem\",\n                fontWeight: \"400\",\n                textTransform: \"capitalize\",\n              }}\n            >\n              SEARCH\n            </Button>\n          </Col>\n        </Row>\n      </Form>\n      {data.length > 0 && (\n        <Row className=\"mt-4\">\n          <Col className=\"text-center\">\n            <p>Latest {data.length} reports</p>\n            <Table striped bordered hover>\n              <thead style={{ fontWeight: \"bold\" }}>\n                <tr>\n                  <td> Lab Sr No </td>\n                  <td> Full Name </td>\n                  <td> Date Examined </td>\n                  <td> Date Expiry </td>\n                  <td> Date Of Birth </td>\n                  <td> Passport No </td>\n                  <td> Edit </td>\n                  <td> Delete </td>\n                  <td> Test Report </td>\n                  <td> Final Report </td>\n\n                </tr>\n              </thead>\n              <tbody>\n                {data.map((doc) => {\n                  return (\n                    <tr key={doc.id}>\n                      <td>{doc.data().labSrNo}</td>\n                      <td>{doc.data().fullName}</td>\n                      <td>{doc.data().dateExamined}</td>\n                      <td>{doc.data().dateExpiry}</td>\n                      <td>{doc.data().dob}</td>\n                      <td>{doc.data().passport}</td>\n                      <td>\n                        <Button\n                          variant=\"primary\"\n                        >\n                          <Link\n                            style={{ color: '#fff', textDecoration: 'none'}}\n                            to={`/dashboard/create-report?edit=${doc.data().labSrNo}`}\n                          >\n                            Edit\n                          </Link>\n                        </Button>\n                      </td>\n                      <td>\n                        <Button\n                          variant=\"danger\"\n                          onClick={() => deleteReport(doc.id)}\n                          disabled={removing}\n                        >\n                          Delete\n                        </Button>\n                      </td>\n                      <td>\n                        <Button\n                          variant=\"success\"\n                          onClick={() => downloadReport(doc.id, false)}\n                          disabled={downloading}\n                        >\n                          Download\n                        </Button>\n                      </td>\n                      <td>\n                        <Button\n                          variant=\"success\"\n                          onClick={() => downloadReport(doc.id, true)}\n                          disabled={downloading}\n                        >\n                          Download\n                        </Button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </Table>\n          </Col>\n        </Row>\n      )}\n      {data.length === 0 && (\n        <Row>\n          <Col className=\"text-center\">\n            <p>No Records</p>\n          </Col>\n        </Row>\n      )}\n    </Container>\n  );\n}\n\nexport default Reports;","/home/skull/lab-report-management-system/src/firebase.config.js",[],"/home/skull/lab-report-management-system/src/components/NavigationBar.js",[],"/home/skull/lab-report-management-system/src/components/PrivateRoute.js",[],"/home/skull/lab-report-management-system/src/components/QuickAccessButtons.js",[],"/home/skull/lab-report-management-system/src/components/Layouts/Layout.js",[],"/home/skull/lab-report-management-system/src/services/firebase.service.js",[],"/home/skull/lab-report-management-system/src/components/Form/ReactiveFields/ExpiryDateField.js",[],"/home/skull/lab-report-management-system/src/components/Form/ReactiveFields/Pregnancy.js",[],"/home/skull/lab-report-management-system/src/components/Form/ReactiveFields/DisplayPhoto.js",[],"/home/skull/lab-report-management-system/src/components/Form/TextArea.js",[],"/home/skull/lab-report-management-system/src/components/Form/FileUpload.js",[],"/home/skull/lab-report-management-system/src/utils/data.helper.js",[],"/home/skull/lab-report-management-system/src/utils/date.helper.js",[],"/home/skull/lab-report-management-system/src/components/Form/TextField.js",[],"/home/skull/lab-report-management-system/src/components/Form/SelectField.js",[],"/home/skull/lab-report-management-system/src/components/Form/DateField.js",[],"/home/skull/lab-report-management-system/src/components/Form/TextFieldWithUnit.js",[],"/home/skull/lab-report-management-system/src/components/Layouts/Col.js",[],"/home/skull/lab-report-management-system/src/utils/pdfLib.js",[],"/home/skull/lab-report-management-system/src/components/Heading.js",[],{"ruleId":"132","replacedBy":"133"},{"ruleId":"134","replacedBy":"135"},{"ruleId":"136","severity":1,"message":"137","line":119,"column":5,"nodeType":"138","endLine":119,"endColumn":7,"suggestions":"139"},{"ruleId":"140","severity":1,"message":"141","line":61,"column":56,"nodeType":"142","messageId":"143","endLine":61,"endColumn":58},"no-native-reassign",["144"],"no-negated-in-lhs",["145"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'location.search'. Either include them or remove the dependency array.","ArrayExpression",["146"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"147","fix":"148"},"Update the dependencies array to be: [history, location.search]",{"range":"149","text":"150"},[3355,3357],"[history, location.search]"]
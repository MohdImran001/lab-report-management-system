[{"/mnt/c/Users/imran/Projects/lab-report-system/src/index.js":"1","/mnt/c/Users/imran/Projects/lab-report-system/src/components/index.js":"2","/mnt/c/Users/imran/Projects/lab-report-system/src/components/App.js":"3","/mnt/c/Users/imran/Projects/lab-report-system/src/contexts/AuthContext.js":"4","/mnt/c/Users/imran/Projects/lab-report-system/src/firebase.js":"5","/mnt/c/Users/imran/Projects/lab-report-system/src/components/Signup.js":"6","/mnt/c/Users/imran/Projects/lab-report-system/src/components/Login.js":"7","/mnt/c/Users/imran/Projects/lab-report-system/src/components/Dashboard.js":"8","/mnt/c/Users/imran/Projects/lab-report-system/src/components/ResetPassword.js":"9","/mnt/c/Users/imran/Projects/lab-report-system/src/components/PrivateRoute.js":"10","/mnt/c/Users/imran/Projects/lab-report-system/src/components/NavigationBar.js":"11","/mnt/c/Users/imran/Projects/lab-report-system/src/components/UpdatePassword.js":"12","/mnt/c/Users/imran/Projects/lab-report-system/src/components/MakeReport.js":"13","/mnt/c/Users/imran/Projects/lab-report-system/src/components/FindReport.js":"14","/mnt/c/Users/imran/Projects/lab-report-system/src/pdfLib.js":"15"},{"size":255,"mtime":1610961345471,"results":"16","hashOfConfig":"17"},{"size":528,"mtime":1611655611529,"results":"18","hashOfConfig":"17"},{"size":773,"mtime":1613050536074,"results":"19","hashOfConfig":"17"},{"size":1306,"mtime":1613131613818,"results":"20","hashOfConfig":"17"},{"size":699,"mtime":1611570536524,"results":"21","hashOfConfig":"17"},{"size":1954,"mtime":1612087200409,"results":"22","hashOfConfig":"17"},{"size":2288,"mtime":1612087150705,"results":"23","hashOfConfig":"17"},{"size":1394,"mtime":1612088157189,"results":"24","hashOfConfig":"17"},{"size":2035,"mtime":1610986925229,"results":"25","hashOfConfig":"17"},{"size":409,"mtime":1611415770604,"results":"26","hashOfConfig":"17"},{"size":2625,"mtime":1613202805063,"results":"27","hashOfConfig":"17"},{"size":2085,"mtime":1612119161532,"results":"28","hashOfConfig":"17"},{"size":39439,"mtime":1613148055721,"results":"29","hashOfConfig":"17"},{"size":4646,"mtime":1613127130973,"results":"30","hashOfConfig":"17"},{"size":2098,"mtime":1613203813351,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"jnfxhd",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"34"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/c/Users/imran/Projects/lab-report-system/src/index.js",[],["65","66"],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/index.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/App.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/contexts/AuthContext.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/firebase.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/Signup.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/Login.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/Dashboard.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/ResetPassword.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/PrivateRoute.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/NavigationBar.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/UpdatePassword.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/MakeReport.js",["67"],"import React, { useRef, useState, useEffect } from \"react\";\nimport { Container, Row, Col, Card, Form, Button } from \"react-bootstrap\";\nimport { useLocation, useHistory } from \"react-router-dom\";\n\nimport { storage, db } from \"../firebase\";\nimport generatePdf from \"../pdfLib\";\n\nfunction MakeReport() {\n  const fullNameRef = useRef();\n  const ageRef = useRef();\n  const genderRef = useRef();\n  const maritalStatusRef = useRef();\n  const heightRef = useRef();\n  const weightRef = useRef();\n  const dobRef = useRef();\n  const doiRef = useRef();\n  const poiRef = useRef();\n  const nationalityRef = useRef();\n  const passportRef = useRef();\n  const postRef = useRef();\n\n  const visionLeftEyeRef = useRef();\n  const otherLeftEyeRef = useRef();\n  const visionRightEyeRef = useRef();\n  const otherRightEyeRef = useRef();\n\n  const leftEarRef = useRef();\n  const rightEarRef = useRef();\n\n  const bloodPressureRef = useRef();\n  const heartRef = useRef();\n  const lungsRef = useRef();\n  const abdomenRef = useRef();\n\n  const VDRLorTPHA_Ref = useRef();\n  // const tphaRef = useRef();\n\n  const chestRef = useRef();\n  const pregnancyRef = useRef();\n\n  const sugarRef = useRef();\n  const albuminRef = useRef();\n  const urineBilharziasisRef = useRef();\n  const urineOthersRef = useRef();\n\n  const hemoglobinRef = useRef();\n  const malariaFilmRef = useRef();\n  const microFilariaRef = useRef();\n  const bloodGroupRef = useRef();\n  const bloodOthersRef = useRef();\n\n  const helminthsRef = useRef();\n  const stoolBilharziasisRef = useRef();\n  const salmonellaShigellaRef = useRef();\n  const choleraRef = useRef();\n\n  const hivRef = useRef();\n  const hbsagRef = useRef();\n  const antiHCVRef = useRef();\n  const lftRef = useRef();\n  const ureaRef = useRef();\n  const creatinineRef = useRef();\n  const bloodSugarRef = useRef();\n  const kftRef = useRef();\n\n  const fitRef = useRef();\n  const remarksRef = useRef();\n  const covidRef = useRef();\n\n  const labSrNoRef = useRef();\n  const refrenceNoRef = useRef();\n  const dateExaminedRef = useRef();\n  const dateExpiryRef = useRef();\n\n  const [photoUrl, setPhotoUrl] = useState(\"\");\n  const [photo, setPhoto] = useState();\n  const [loading, setLoading] = useState(false);\n  const [current, setCurrent] = useState({});\n  const [fetching, setFetching] = useState(true);\n  const [edit, setEdit] = useState(false);\n  const [pregnancy, setPregnancy] = useState(\"Not Applicable\");\n\n  function setPregnancyValue() {\n    // console.log(\"outer => \", genderRef.current.value);\n    if (genderRef.current.value === \"Female\") {\n      // console.log(\"applicable\");\n      setPregnancy(\"Applicable\");\n    } else {\n      setPregnancy(\"Not Applicable\");\n    }\n  }\n\n  function convertDate(value) {\n    let date = value.split(\"-\");\n    let temp = date[0];\n    date[0] = date[2];\n    date[2] = temp;\n    date = date.join(\"-\");\n    return date;\n  }\n\n  function handleChange(e) {\n    if (e.target.files[0]) {\n      setPhoto(e.target.files[0]);\n    }\n  }\n\n  function uploadFile() {\n    setLoading(true);\n    const date = new Date().toISOString();\n    const name = photo.name + \"_\" + date;\n\n    const uploadTask = storage.ref(`images/${name}`).put(photo);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {},\n      (error) => {\n        console.log(error);\n      },\n      () => {\n        storage\n          .ref(\"images\")\n          .child(name)\n          .getDownloadURL()\n          .then((url) => {\n            setPhotoUrl(url);\n            setLoading(false);\n          });\n      }\n    );\n  }\n\n  async function updateReport(formData, candidatePhoto) {\n    try {\n      await db\n        .collection(\"reports\")\n        .doc(current.labSrNo)\n        .update({ ...formData, candidatePhoto });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  async function saveReport(formData, candidatePhoto) {\n    const saveData = db\n      .collection(\"reports\")\n      .doc(`EMPTY_${current.lab + 1}`)\n      .set({ ...formData, candidatePhoto });\n\n    const updateCurrent = db\n      .collection(\"current\")\n      .doc(current.id)\n      .update({\n        lab: current.lab + 1,\n        refrence: current.refrence + 1,\n      });\n    try {\n      await Promise.all([saveData, updateCurrent]);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  const history = useHistory();\n  async function generateReport(e) {\n    e.preventDefault();\n    setLoading(true);\n    const formData = {\n      labSrNo: labSrNoRef.current.value,\n      refrenceNo: refrenceNoRef.current.value,\n      dateExamined: convertDate(dateExaminedRef.current.value),\n      dateExpiry: convertDate(dateExpiryRef.current.value),\n      fullName: fullNameRef.current.value.toUpperCase(),\n      age: ageRef.current.value,\n      gender: genderRef.current.value,\n      height: heightRef.current.value + \" cm\",\n      weight: weightRef.current.value + \" kg\",\n      maritalStatus: maritalStatusRef.current.value,\n      dob: convertDate(dobRef.current.value),\n      nationality: nationalityRef.current.value,\n      passport: passportRef.current.value.toUpperCase(),\n      doi: convertDate(doiRef.current.value),\n      poi: poiRef.current.value,\n      post: postRef.current.value,\n      visionRightEye: visionRightEyeRef.current.value,\n      otherRightEye: otherRightEyeRef.current.value,\n      visionLeftEye: visionLeftEyeRef.current.value,\n      otherLeftEye: otherLeftEyeRef.current.value,\n      sugar: sugarRef.current.value,\n      albumin: albuminRef.current.value,\n      urineBilharziasis: urineBilharziasisRef.current.value,\n      urineOthers: urineOthersRef.current.value,\n      rightEar: rightEarRef.current.value,\n      leftEar: leftEarRef.current.value,\n      hemoglobin: hemoglobinRef.current.value + \" gm %\",\n      malariaFilm: malariaFilmRef.current.value,\n      bloodGroup: bloodGroupRef.current.value,\n      microFilaria: microFilariaRef.current.value,\n      bloodOthers: bloodOthersRef.current.value,\n      bloodPressure: bloodPressureRef.current.value + \" mm Hg\",\n      heart: heartRef.current.value,\n      lungs: lungsRef.current.value,\n      abdomen: abdomenRef.current.value,\n      helminths: helminthsRef.current.value,\n      stoolBilharziasis: stoolBilharziasisRef.current.value,\n      salmonellaShigella: salmonellaShigellaRef.current.value,\n      cholera: choleraRef.current.value,\n      VDRLorTPHA: VDRLorTPHA_Ref.current.value,\n      // tpha: tphaRef.current.value,\n      chest: chestRef.current.value,\n      pregnancy: pregnancyRef.current.value,\n      hiv: hivRef.current.value,\n      hbsag: hbsagRef.current.value,\n      antiHCV: antiHCVRef.current.value,\n      lft: lftRef.current.value,\n      urea: ureaRef.current.value + \" mg/dl\",\n      creatinine: creatinineRef.current.value + \" mg/dl\",\n      bloodSugar: bloodSugarRef.current.value + \" mg/dl\",\n      kft: kftRef.current.value,\n      remarks: remarksRef.current.value,\n      fit: fitRef.current.value,\n      covid: covidRef.current.value,\n    };\n    const candidatePhoto = photoUrl;\n\n    const pdf = generatePdf(formData, candidatePhoto, edit);\n    let saveData;\n    if (edit) {\n      saveData = updateReport(formData, candidatePhoto);\n    } else {\n      saveData = saveReport(formData, candidatePhoto);\n    }\n\n    try {\n      await Promise.all([pdf, saveData]);\n    } catch (err) {\n      console.log(err);\n    }\n\n    setLoading(false);\n    history.push(\"/dashboard\");\n  }\n\n  const location = useLocation();\n  useEffect(() => {\n    async function fetchData() {\n      const queryParams = new URLSearchParams(location.search);\n      const labSrNo = queryParams.get(\"edit\");\n\n      if (!labSrNo) {\n        // Make new Report\n        try {\n          const querySnapshot = await db.collection(\"current\").get();\n          querySnapshot.forEach((doc) => {\n            setCurrent({ id: doc.id, ...doc.data() });\n            setEdit(false);\n            setFetching(false);\n          });\n        } catch (err) {\n          console.log(err);\n        }\n      } else {\n        // Edit Existing Report\n        try {\n          const doc = await db.collection(\"reports\").doc(labSrNo).get();\n          if (doc.exists) {\n            let data = doc.data();\n            data[\"dateExamined\"] = convertDate(data[\"dateExamined\"]);\n            data[\"dateExpiry\"] = convertDate(data[\"dateExpiry\"]);\n            data[\"dob\"] = convertDate(data[\"dob\"]);\n            data[\"doi\"] = convertDate(data[\"doi\"]);\n\n            data[\"weight\"] = data[\"weight\"].split(\" \")[0];\n            data[\"height\"] = data[\"height\"].split(\" \")[0];\n            data[\"urea\"] = data[\"urea\"].split(\" \")[0];\n            data[\"creatinine\"] = data[\"creatinine\"].split(\" \")[0];\n            data[\"bloodSugar\"] = data[\"bloodSugar\"].split(\" \")[0];\n            data[\"hemoglobin\"] = data[\"hemoglobin\"].split(\" \")[0];\n            data[\"bloodPressure\"] = data[\"bloodPressure\"].split(\" \")[0];\n            data[\"bloodSugar\"] = data[\"bloodSugar\"].split(\" \")[0];\n\n            setCurrent(data);\n            setEdit(true);\n            setPhotoUrl(doc.data().candidatePhoto);\n            setFetching(false);\n          } else {\n            alert(\"no such report found\");\n            console.log(\"no such doc\");\n            history.push(\"/dashboard/search\");\n          }\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    }\n\n    fetchData();\n  }, [location]);\n\n  return (\n    <>\n      {fetching && (\n        <Container className=\"pt-4 text-center\">\n          <img src=\"/830.gif\" alt=\"loader\" />\n        </Container>\n      )}\n      {!fetching && (\n        <Container className=\"pt-4\">\n          <Row className=\"fill-report-icon text-center\">\n            <Col>\n              <img\n                src=\"/fill-report.png\"\n                alt=\"fill-report-icon\"\n                style={{ width: \"5rem\" }}\n              />\n            </Col>\n          </Row>\n          <Form onSubmit={generateReport}>\n            <br />\n            <br />\n            <Row>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>Lab Sr No.</Card.Title>\n                    <Form.Group>\n                      <Form.Control\n                        type=\"text\"\n                        ref={labSrNoRef}\n                        disabled={true}\n                        value={\n                          edit ? current.labSrNo : `EMPTY_${current.lab + 1}`\n                        }\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>Reference No.</Card.Title>\n                    <Form.Group>\n                      <Form.Control\n                        type=\"text\"\n                        ref={refrenceNoRef}\n                        disabled={true}\n                        value={\n                          edit\n                            ? current.refrenceNo\n                            : `EMPTY_${current.refrence + 1}`\n                        }\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n            <br />\n            <br />\n            <h4\n              style={{ textTransform: \"uppercase\" }}\n              className=\"text-center pt-4 pb-4\"\n            >\n              candidate information\n            </h4>\n            <Row>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>Date</Card.Title>\n                    <Form.Group id=\"date-examined\">\n                      <Form.Label>Date Examined</Form.Label>\n                      <Form.Control\n                        type=\"date\"\n                        ref={dateExaminedRef}\n                        defaultValue={edit ? current.dateExamined : ``}\n                        required\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"date-expiry\">\n                      <Form.Label>Date Expiry</Form.Label>\n                      <Form.Control\n                        type=\"date\"\n                        ref={dateExpiryRef}\n                        defaultValue={edit ? current.dateExpiry : ``}\n                        required\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>Upload Photo</Card.Title>\n                    <Form.Group>\n                      <Form.File\n                        id=\"photo\"\n                        accept=\"image/*\"\n                        onChange={handleChange}\n                      />\n                    </Form.Group>\n                    <Button\n                      type=\"button\"\n                      onClick={uploadFile}\n                      disabled={loading}\n                    >\n                      Upload\n                    </Button>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                {photoUrl.length > 0 && (\n                  <Card>\n                    <Card.Body>\n                      <img\n                        src={photoUrl}\n                        alt=\"candidate\"\n                        style={{ width: \"5.9rem\" }}\n                      />\n                    </Card.Body>\n                  </Card>\n                )}\n              </Col>\n            </Row>\n            <br />\n            <br />\n            <Row>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Form.Group id=\"full-name\">\n                      <Form.Label>Full Name</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={fullNameRef}\n                        defaultValue={edit ? current.fullName : ``}\n                        required\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"age\">\n                      <Form.Label>Age</Form.Label>\n                      <Form.Control\n                        type=\"number\"\n                        ref={ageRef}\n                        defaultValue={edit ? current.age : ``}\n                        required\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"gender\">\n                      <Form.Label>Gender</Form.Label>\n                      <Form.Control\n                        as=\"select\"\n                        ref={genderRef}\n                        defaultValue={edit ? current.gender : ``}\n                        required\n                        custom\n                        onChange={setPregnancyValue}\n                      >\n                        <option value=\"\">-- Select --</option>\n                        <option value=\"Male\">Male</option>\n                        <option value=\"Female\">Female</option>\n                        <option value=\"Others\">Others</option>\n                      </Form.Control>\n                    </Form.Group>\n                    <Form.Group id=\"height\">\n                      <Form.Label>Height (cm)</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={heightRef}\n                        defaultValue={edit ? current.height : ``}\n                        required\n                        style={{ display: \"inline\" }}\n                      />\n                      <span style={{ marginLeft: \"-4rem\" }}>cm</span>\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Form.Group id=\"weight\">\n                      <Form.Label>Weight (Kg) </Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={weightRef}\n                        defaultValue={edit ? current.weight : ``}\n                        required\n                        style={{ display: \"inline\" }}\n                      />\n                      <span style={{ marginLeft: \"-4rem\" }}>Kg</span>\n                    </Form.Group>\n                    <Form.Group id=\"marital-status\">\n                      <Form.Label> Marital Status </Form.Label>\n                      <Form.Control\n                        as=\"select\"\n                        ref={maritalStatusRef}\n                        defaultValue={edit ? current.maritalStatus : ``}\n                        custom\n                        required\n                      >\n                        <option value=\"\">-- Select --</option>\n                        <option value=\"Single\"> Single </option>\n                        <option value=\"Married\"> Married </option>\n                        <option value=\"Divorced\"> Divorced </option>\n                        <option value=\"Seperated\"> Seperated </option>\n                        <option value=\"Widow (er)\"> Widow (er) </option>\n                      </Form.Control>\n                    </Form.Group>\n                    <Form.Group id=\"date-of-birth\">\n                      <Form.Label>Date of Birth</Form.Label>\n                      <Form.Control\n                        type=\"date\"\n                        ref={dobRef}\n                        defaultValue={edit ? current.dob : ``}\n                        required\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"date-of-issue\">\n                      <Form.Label>Date of Issue</Form.Label>\n                      <Form.Control\n                        type=\"date\"\n                        ref={doiRef}\n                        defaultValue={edit ? current.doi : ``}\n                        required\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Form.Group id=\"place-of-issue\">\n                      <Form.Label>Place of Issue</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={poiRef}\n                        defaultValue={edit ? current.poi : ``}\n                        required\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"nationality\">\n                      <Form.Label>Nationality</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={nationalityRef}\n                        defaultValue={edit ? current.nationality : ``}\n                        required\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"passport-no\">\n                      <Form.Label>Passport No</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={passportRef}\n                        defaultValue={edit ? current.passport : ``}\n                        required\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"post\">\n                      <Form.Label> Post applied for </Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={postRef}\n                        defaultValue={edit ? current.post : ``}\n                        required\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n\n            {/* Medical Examination Form */}\n            <br />\n            <h4\n              style={{ textTransform: \"uppercase\" }}\n              className=\"text-center pt-4 pb-4\"\n            >\n              Medical examination\n            </h4>\n            <Row>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>EYES</Card.Title>\n                    <Form.Group id=\"vision-right-eye\">\n                      <Form.Label>Vision Right Eye</Form.Label>\n                      <Form.Control\n                        as=\"select\"\n                        defaultValue={edit ? current.visionRightEye : ``}\n                        ref={visionRightEyeRef}\n                        custom\n                      >\n                        <option value=\"\">-- Select --</option>\n                        <option value=\"6/6\">6/6</option>\n                        <option value=\"6/9\">6/9</option>\n                        <option value=\"6/18\">6/18</option>\n                      </Form.Control>\n                    </Form.Group>\n                    <Form.Group id=\"other-right-eye\">\n                      <Form.Label>Other Right Eye</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={otherRightEyeRef}\n                        defaultValue={edit ? current.otherRightEye : `NAD`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"vision-left-eye\">\n                      <Form.Label>Vision Left Eye</Form.Label>\n                      <Form.Control\n                        as=\"select\"\n                        ref={visionLeftEyeRef}\n                        defaultValue={edit ? current.visionLeftEye : ``}\n                        custom\n                      >\n                        <option value=\"\">-- Select --</option>\n                        <option value=\"6/6\">6/6</option>\n                        <option value=\"6/9\">6/9</option>\n                        <option value=\"6/18\">6/18</option>\n                      </Form.Control>\n                    </Form.Group>\n                    <Form.Group id=\"other-left-eye\">\n                      <Form.Label>Other Left Eye</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={otherLeftEyeRef}\n                        defaultValue={edit ? current.otherLeftEye : `NAD`}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>EARS</Card.Title>\n                    <Form.Group id=\"right-ear\">\n                      <Form.Label>Right Ear</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={rightEarRef}\n                        defaultValue={edit ? current.rightEar : `NAD`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"left-ear\">\n                      <Form.Label>Left Ear</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={leftEarRef}\n                        defaultValue={edit ? current.leftEar : `NAD`}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>SYSTEMATIC EXAM</Card.Title>\n                    <Form.Group id=\"blood-pressure\">\n                      <Form.Label>Blood Pressure</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={bloodPressureRef}\n                        defaultValue={edit ? current.bloodPressure : ``}\n                        style={{ display: \"inline\" }}\n                      />\n                      <span style={{ marginLeft: \"-4rem\" }}>mm Hg</span>\n                    </Form.Group>\n                    <Form.Group id=\"heart\">\n                      <Form.Label>Heart</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={heartRef}\n                        defaultValue={edit ? current.heart : ``}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"lungs\">\n                      <Form.Label>Lungs</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={lungsRef}\n                        defaultValue={edit ? current.lungs : ``}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"abdomen\">\n                      <Form.Label>Abdomen</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={abdomenRef}\n                        defaultValue={edit ? current.abdomen : ``}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n            <br />\n            <Row>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>VENEREAL DISEASES (CLINICAL)</Card.Title>\n                    <Form.Group id=\"vdrl\">\n                      <Form.Label>VDRL/TPHA</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={VDRLorTPHA_Ref}\n                        defaultValue={edit ? current.VDRLorTPHA : ``}\n                      />\n                    </Form.Group>\n                    {/* <Form.Group id=\"tpha\">\n                      <Form.Label>TPHA</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={tphaRef}\n                        defaultValue={edit ? current.tpha : ``}\n                      />\n                    </Form.Group> */}\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>CHEST X-RAY</Card.Title>\n                    <Form.Group id=\"chest-x-ray\">\n                      <Form.Label></Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={chestRef}\n                        defaultValue={edit ? current.chest : `NAD`}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>PREGNANCY</Card.Title>\n                    <Form.Group id=\"pregnancy\">\n                      <Form.Label></Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={pregnancyRef}\n                        value={pregnancy}\n                        onChange={() => {}}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n            {/* Medical Examination Form */}\n            <br />\n\n            {/* LAB INVESTIGATION Form */}\n            <br />\n            <h4\n              style={{ textTransform: \"uppercase\" }}\n              className=\"text-center pt-4 pb-4\"\n            >\n              lab INVESTIGATION\n            </h4>\n            <Row>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>URINE</Card.Title>\n\n                    <Form.Group id=\"sugar\">\n                      <Form.Label>Sugar</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={sugarRef}\n                        defaultValue={edit ? current.sugar : `nil`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"albumin\">\n                      <Form.Label>Albumin</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={albuminRef}\n                        defaultValue={edit ? current.albumin : `nil`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"urine-bilharziasis\">\n                      <Form.Label>Bilharziasis</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={urineBilharziasisRef}\n                        defaultValue={edit ? current.urineBilharziasis : `nil`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"urine-others\">\n                      <Form.Label>Others</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={urineOthersRef}\n                        defaultValue={edit ? current.urineOthers : ``}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>BLOOD</Card.Title>\n\n                    <Form.Group id=\"hemoglobin\">\n                      <Form.Label>Hemoglobin</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={hemoglobinRef}\n                        defaultValue={edit ? current.hemoglobin : ``}\n                        style={{ display: \"inline\" }}\n                      />\n                      <span style={{ marginLeft: \"-4rem\" }}>gm %</span>\n                    </Form.Group>\n                    <Form.Group id=\"malaria-film\">\n                      <Form.Label>Malaria Film</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={malariaFilmRef}\n                        defaultValue={edit ? current.malariaFilm : `Not Seen`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"micro-filaria\">\n                      <Form.Label>Micro Filaria</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={microFilariaRef}\n                        defaultValue={\n                          edit ? current.microFilaria : `Non Reactive`\n                        }\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"blood-group\">\n                      <Form.Label>Blood Group</Form.Label>\n                      <Form.Control\n                        as=\"select\"\n                        ref={bloodGroupRef}\n                        defaultValue={edit ? current.bloodGroup : ``}\n                        custom\n                      >\n                        <option value=\"\">-- Select --</option>\n\n                        <option value=\"A+\">A+</option>\n                        <option value=\"B+\">B+</option>\n                        <option value=\"O+\">O+</option>\n                        <option value=\"AB+\">AB+</option>\n                        <option value=\"AB-\">AB-</option>\n                        <option value=\"O-\">O-</option>\n                        <option value=\"B-\">B-</option>\n                        <option value=\"A-\">A-</option>\n                      </Form.Control>\n                    </Form.Group>\n                    <Form.Group id=\"blood-others\">\n                      <Form.Label>Others</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={bloodOthersRef}\n                        defaultValue={edit ? current.bloodOthers : ``}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>STOOL</Card.Title>\n\n                    <Form.Group id=\"helminths\">\n                      <Form.Label>Helminths</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={helminthsRef}\n                        defaultValue={edit ? current.helminths : `Not Seen`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"stool-bilharziasis\">\n                      <Form.Label>Bilharziasis</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={stoolBilharziasisRef}\n                        defaultValue={\n                          edit ? current.stoolBilharziasis : `Not Seen`\n                        }\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"salmonella-shigella\">\n                      <Form.Label>Salmonella/Shigella</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={salmonellaShigellaRef}\n                        defaultValue={edit ? current.salmonellaShigella : `NAD`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"v-cholera\">\n                      <Form.Label>V. Cholera</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={choleraRef}\n                        defaultValue={edit ? current.cholera : `NAD`}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n            <br />\n            <Row>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>SEROLOGY</Card.Title>\n                    <Form.Group id=\"hiv\">\n                      <Form.Label>HIV</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={hivRef}\n                        defaultValue={edit ? current.hiv : `Non Reactive`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"hbsag\">\n                      <Form.Label>HBsAg</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={hbsagRef}\n                        defaultValue={edit ? current.hbsag : `Non Reactive`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"anti-hcv\">\n                      <Form.Label>Anti HCV</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={antiHCVRef}\n                        defaultValue={edit ? current.antiHCV : `Non Reactive`}\n                      />\n                    </Form.Group>\n                    <Form.Group id=\"lft\">\n                      <Form.Label>L.F.T.</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={lftRef}\n                        defaultValue={edit ? current.lft : `Normal`}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>SEROLOGY</Card.Title>\n                    <Form.Group id=\"urea\">\n                      <Form.Label>Urea</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={ureaRef}\n                        defaultValue={edit ? current.urea : ``}\n                        style={{ display: \"inline\" }}\n                      />\n                      <span style={{ marginLeft: \"-4rem\" }}>mg/dl</span>\n                    </Form.Group>\n                    <Form.Group id=\"creatinine\">\n                      <Form.Label>Creatinine</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={creatinineRef}\n                        defaultValue={edit ? current.creatinine : ``}\n                        style={{ display: \"inline\" }}\n                      />\n                      <span style={{ marginLeft: \"-4rem\" }}>mg/dl</span>\n                    </Form.Group>\n                    <Form.Group id=\"blood-sugar\">\n                      <Form.Label>Blood Sugar</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={bloodSugarRef}\n                        defaultValue={edit ? current.bloodSugar : ``}\n                        style={{ display: \"inline\" }}\n                      />\n                      <span style={{ marginLeft: \"-4rem\" }}>mg/dl</span>\n                    </Form.Group>\n                    <Form.Group id=\"kft\">\n                      <Form.Label>K.F.T.</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        ref={kftRef}\n                        defaultValue={edit ? current.kft : `Normal`}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>Covid</Card.Title>\n                    <Form.Group>\n                      <Form.Control\n                        as=\"select\"\n                        className=\"covid\"\n                        ref={covidRef}\n                        defaultValue={edit ? current.covid : \"\"}\n                        custom\n                      >\n                        <option value=\"\">-- Select --</option>\n                        <option value=\"Positive\"> Positive </option>\n                        <option value=\"Negative\"> Negative </option>\n                      </Form.Control>\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n            {/* LAB INVESTIGATION Form */}\n\n            <br />\n            <br />\n            <Row>\n              <Col>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>Remarks</Card.Title>\n                    <Form.Group>\n                      <Form.Label>FIT or UNFIT</Form.Label>\n                      <Form.Control\n                        as=\"select\"\n                        className=\"fit\"\n                        ref={fitRef}\n                        defaultValue={edit ? current.fit : \"\"}\n                        custom\n                      >\n                        <option value=\"\">-- Select --</option>\n                        <option value=\"FIT\"> FIT </option>\n                        <option value=\"UNFIT\"> UNFIT </option>\n                      </Form.Control>\n                    </Form.Group>\n                    <Form.Group>\n                      <Form.Label>Remarks:- </Form.Label>\n                      <Form.Control\n                        as=\"textarea\"\n                        rows={3}\n                        ref={remarksRef}\n                        defaultValue={edit ? current.remarks : ``}\n                      />\n                    </Form.Group>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col></Col>\n            </Row>\n\n            <br />\n            <br />\n            <Button\n              disabled={loading}\n              type=\"submit\"\n              className=\"px-4 py-2\"\n              style={{ fontSize: \"1.2rem\", letterSpacing: \"2px\" }}\n            >\n              GENERATE REPORT\n            </Button>\n            {loading && <img src=\"/830.gif\" alt=\"loader\" className=\"ml-4\" />}\n          </Form>\n          <br />\n          <br />\n          <br />\n        </Container>\n      )}\n    </>\n  );\n}\n\nexport default MakeReport;\n","/mnt/c/Users/imran/Projects/lab-report-system/src/components/FindReport.js",["68"],"import React, { useState, useRef, useEffect } from \"react\";\nimport { Container, Row, Col, Table, Button, Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nimport { db } from \"../firebase\";\n\nfunction FindReport() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [options, setOptions] = useState([\n    \"labSrNo\",\n    \"dateExamined\",\n    \"dateExpiry\",\n    \"fullName\",\n    \"dob\",\n    \"passport\",\n  ]);\n\n  const searchRef = useRef();\n  const selectRef = useRef();\n\n  async function findReports(e) {\n    e.preventDefault();\n    setLoading(true);\n\n    let value = searchRef.current.value;\n    const idx = selectRef.current.options.selectedIndex;\n    const option = options[idx];\n\n    const reportsRef = db.collection(\"reports\");\n    try {\n      const querySnapshot = await reportsRef.where(option, \"==\", value).get();\n      if (!querySnapshot.empty) {\n        setData(querySnapshot.docs);\n      } else {\n        setData([]);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n\n    setLoading(false);\n    return;\n  }\n\n  useEffect(() => {\n    async function fetchReports() {\n      setLoading(true);\n      try {\n        const snapshot = await db.collection(\"reports\").get();\n        setData(snapshot.docs);\n      } catch (err) {\n        console.log(err);\n      }\n      setLoading(false);\n    }\n\n    fetchReports();\n  }, []);\n\n  return (\n    <Container className=\"pt-4 text-center\">\n      <Form onSubmit={findReports}>\n        <Row>\n          <Col className=\"text-left\">\n            <Form.Group>\n              <Form.Label style={{ fontWeight: \"bold\" }}>Find By</Form.Label>\n              <Form.Control as=\"select\" ref={selectRef} custom>\n                <option>Lab Sr No.</option>\n                <option>Date Examined</option>\n                <option>Date Expiry</option>\n                <option>Name</option>\n                <option>Date of Birth</option>\n                <option>Passport Number</option>\n              </Form.Control>\n            </Form.Group>\n          </Col>\n          <Col xs={7}>\n            <Form.Group style={{ marginTop: \"8px\" }}>\n              <Form.Label></Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"search reports\"\n                ref={searchRef}\n                required\n              />\n            </Form.Group>\n          </Col>\n          <Col>\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              style={{\n                marginTop: \"2rem\",\n                marginLeft: \"-4rem\",\n                paddingLeft: \"2rem\",\n                paddingRight: \"2rem\",\n                letterSpacing: \".2rem\",\n                fontWeight: \"400\",\n                textTransform: \"capitalize\",\n              }}\n            >\n              SEARCH\n            </Button>\n          </Col>\n        </Row>\n      </Form>\n      {loading && (\n        <Row>\n          <Col className=\"text-center\">\n            <img src=\"/830.gif\" alt=\"loader\" />\n          </Col>\n        </Row>\n      )}\n      {data.length > 0 && (\n        <Row className=\"mt-4\">\n          <Col className=\"text-center\">\n            <Table striped bordered hover>\n              <thead style={{ fontWeight: \"bold\" }}>\n                <tr>\n                  <td>Lab Sr No</td>\n                  <td> Full Name </td>\n                  <td> Date Examined </td>\n                  <td> Date Expiry </td>\n                  <td> Date Of Birth </td>\n                  <td> Passport No </td>\n                  <td> Edit </td>\n                </tr>\n              </thead>\n              <tbody>\n                {data.map((doc) => {\n                  return (\n                    <tr key={doc.id}>\n                      <td>{doc.data().labSrNo}</td>\n                      <td>{doc.data().fullName}</td>\n                      <td>{doc.data().dateExamined}</td>\n                      <td>{doc.data().dateExpiry}</td>\n                      <td>{doc.data().dob}</td>\n                      <td>{doc.data().passport}</td>\n                      <td>\n                        <Link\n                          to={`/dashboard/report?edit=${doc.data().labSrNo}`}\n                        >\n                          Edit\n                        </Link>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </Table>\n          </Col>\n        </Row>\n      )}\n      {data.length === 0 && (\n        <Row>\n          <Col className=\"text-center\">\n            <p>No Records</p>\n          </Col>\n        </Row>\n      )}\n    </Container>\n  );\n}\nexport default FindReport;\n","/mnt/c/Users/imran/Projects/lab-report-system/src/pdfLib.js",[],{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","severity":1,"message":"74","line":298,"column":6,"nodeType":"75","endLine":298,"endColumn":16,"suggestions":"76"},{"ruleId":"77","severity":1,"message":"78","line":10,"column":19,"nodeType":"79","messageId":"80","endLine":10,"endColumn":29},"no-native-reassign",["81"],"no-negated-in-lhs",["82"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["83"],"no-unused-vars","'setOptions' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"84","fix":"85"},"Update the dependencies array to be: [history, location]",{"range":"86","text":"87"},[9230,9240],"[history, location]"]
[{"/mnt/c/Users/imran/Projects/lab-report-system/src/index.js":"1","/mnt/c/Users/imran/Projects/lab-report-system/src/components/index.js":"2","/mnt/c/Users/imran/Projects/lab-report-system/src/components/App.js":"3","/mnt/c/Users/imran/Projects/lab-report-system/src/contexts/AuthContext.js":"4","/mnt/c/Users/imran/Projects/lab-report-system/src/firebase.js":"5","/mnt/c/Users/imran/Projects/lab-report-system/src/components/Signup.js":"6","/mnt/c/Users/imran/Projects/lab-report-system/src/components/Login.js":"7","/mnt/c/Users/imran/Projects/lab-report-system/src/components/Dashboard.js":"8","/mnt/c/Users/imran/Projects/lab-report-system/src/components/ResetPassword.js":"9","/mnt/c/Users/imran/Projects/lab-report-system/src/components/PrivateRoute.js":"10","/mnt/c/Users/imran/Projects/lab-report-system/src/components/NavigationBar.js":"11","/mnt/c/Users/imran/Projects/lab-report-system/src/components/UpdatePassword.js":"12","/mnt/c/Users/imran/Projects/lab-report-system/src/components/MakeReport.js":"13","/mnt/c/Users/imran/Projects/lab-report-system/src/components/FindReport.js":"14","/mnt/c/Users/imran/Projects/lab-report-system/src/pdfLib.js":"15","/mnt/c/Users/imran/Projects/lab-report-system/src/config.js":"16"},{"size":204,"mtime":1613226059793,"results":"17","hashOfConfig":"18"},{"size":528,"mtime":1611655611529,"results":"19","hashOfConfig":"18"},{"size":1760,"mtime":1625268617368,"results":"20","hashOfConfig":"18"},{"size":1306,"mtime":1613131613818,"results":"21","hashOfConfig":"18"},{"size":699,"mtime":1611570536524,"results":"22","hashOfConfig":"18"},{"size":1954,"mtime":1612087200409,"results":"23","hashOfConfig":"18"},{"size":2288,"mtime":1612087150705,"results":"24","hashOfConfig":"18"},{"size":1394,"mtime":1612088157189,"results":"25","hashOfConfig":"18"},{"size":2035,"mtime":1610986925229,"results":"26","hashOfConfig":"18"},{"size":409,"mtime":1611415770604,"results":"27","hashOfConfig":"18"},{"size":3655,"mtime":1613223144456,"results":"28","hashOfConfig":"18"},{"size":2085,"mtime":1612119161532,"results":"29","hashOfConfig":"18"},{"size":43333,"mtime":1625276311097,"results":"30","hashOfConfig":"18"},{"size":5856,"mtime":1625268617400,"results":"31","hashOfConfig":"18"},{"size":2453,"mtime":1625273045762,"results":"32","hashOfConfig":"18"},{"size":139,"mtime":1614504996902,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"4b62r0",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"36"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"/mnt/c/Users/imran/Projects/lab-report-system/src/index.js",[],["69","70"],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/index.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/App.js",["71"],"import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\n\nimport { AuthProvider } from \"../contexts/AuthContext\";\nimport { Dashboard, Login, ResetPassword, PrivateRoute, Signup } from \"./index\";\nimport { BASE_URL, CACHE_NAME } from \"../config\";\n\nfunction App() {\n  const [loading, setLoading] = useState(true);\n\n  const cacheData = async () => {\n    setLoading(true);\n    try {\n      const cacheStorage = await caches.open(CACHE_NAME);\n      const keys = await cacheStorage.keys();\n\n      if (keys.length < 3) {\n        await cacheStorage.addAll([\n          BASE_URL + \"/report.pdf\",\n          BASE_URL + \"/edit-report.pdf\",\n          BASE_URL + \"/stamp.png\",\n        ]);\n\n        // console.log(await cacheStorage.keys());\n      } else {\n        // console.log(keys);\n      }\n    } catch (err) {\n      console.log(\"Caching Error => \", err);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    cacheData();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      {loading && (\n        <Container className=\"pt-4 text-center\">\n          <img src=\"/830.gif\" alt=\"loader\" />\n        </Container>\n      )}\n      {!loading && (\n        <Router>\n          <AuthProvider>\n            <Switch>\n              <Route exact path=\"/\" component={Login} />\n              <PrivateRoute path=\"/dashboard\" component={Dashboard} />\n              <Route path=\"/reset-password\" component={ResetPassword} />\n              <Route path=\"/reset-password\" component={ResetPassword} />\n              {/* <Route path=\"/signup\" component={Signup} /> */}\n            </Switch>\n          </AuthProvider>\n        </Router>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","/mnt/c/Users/imran/Projects/lab-report-system/src/contexts/AuthContext.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/firebase.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/Signup.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/Login.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/Dashboard.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/ResetPassword.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/PrivateRoute.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/NavigationBar.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/UpdatePassword.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/MakeReport.js",["72"],"/mnt/c/Users/imran/Projects/lab-report-system/src/components/FindReport.js",["73"],"import React, { useState, useRef, useEffect } from \"react\";\nimport { Container, Row, Col, Table, Button, Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nimport { db, storage } from \"../firebase\";\n\nfunction FindReport() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [removing, setRemoving] = useState(false);\n\n  const options = [\n    \"labSrNo\",\n    \"dateExamined\",\n    \"dateExpiry\",\n    \"fullName\",\n    \"dob\",\n    \"passport\",\n  ];\n  const searchRef = useRef();\n  const selectRef = useRef();\n\n  async function findReports(e) {\n    e.preventDefault();\n    setLoading(true);\n\n    let value = searchRef.current.value.toUpperCase();\n    const idx = selectRef.current.options.selectedIndex;\n    const option = options[idx];\n\n    const reportsRef = db.collection(\"reports\");\n    let querySnapshot;\n\n    try {\n      if (value.length == 0) {\n        querySnapshot = await reportsRef\n          .orderBy(\"labSrNo\", \"desc\")\n          .limit(15)\n          .get();\n\n        // console.log(\"0 length\", querySnapshot);\n      } else {\n        querySnapshot = await reportsRef.where(option, \"==\", value).get();\n        // console.log(\"value\", value, querySnapshot);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n\n    if (!querySnapshot.empty) {\n      setData(querySnapshot.docs);\n    } else {\n      setData([]);\n    }\n\n    setLoading(false);\n    return;\n  }\n\n  async function fetchReports() {\n    setLoading(true);\n    try {\n      const snapshot = await db\n        .collection(\"reports\")\n        .orderBy(\"labSrNo\", \"desc\")\n        .limit(15)\n        .get();\n      setData(snapshot.docs);\n    } catch (err) {\n      console.log(err);\n    }\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    fetchReports();\n  }, []);\n\n  const deleteReport = async (id) => {\n    setRemoving(true);\n    try {\n      const photoName = data.find((report) => report.id === id).data()\n        .photoName;\n\n      const deleteReport = db.collection(\"reports\").doc(id).delete();\n      const deletePhoto = storage.ref().child(`images/${photoName}`).delete();\n\n      await Promise.all([deleteReport, deletePhoto]);\n    } catch (err) {\n      console.log(err);\n    }\n    setRemoving(false);\n    await fetchReports();\n  };\n\n  return (\n    <Container className=\"pt-4 text-center\">\n      <Form onSubmit={findReports}>\n        <Row>\n          <Col className=\"text-left\">\n            <Form.Group>\n              <Form.Label style={{ fontWeight: \"bold\" }}>Find By</Form.Label>\n              <Form.Control as=\"select\" ref={selectRef} custom>\n                <option>Lab Sr No.</option>\n                <option>Date Examined</option>\n                <option>Date Expiry</option>\n                <option>Name</option>\n                <option>Date of Birth</option>\n                <option>Passport Number</option>\n              </Form.Control>\n            </Form.Group>\n          </Col>\n          <Col xs={7}>\n            <Form.Group style={{ marginTop: \"8px\" }}>\n              <Form.Label></Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"search reports\"\n                ref={searchRef}\n              />\n            </Form.Group>\n          </Col>\n          <Col>\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              style={{\n                marginTop: \"2rem\",\n                marginLeft: \"-4rem\",\n                paddingLeft: \"2rem\",\n                paddingRight: \"2rem\",\n                letterSpacing: \".2rem\",\n                fontWeight: \"400\",\n                textTransform: \"capitalize\",\n              }}\n            >\n              SEARCH\n            </Button>\n          </Col>\n        </Row>\n      </Form>\n      {loading && (\n        <Row>\n          <Col className=\"text-center\">\n            <img src=\"/830.gif\" alt=\"loader\" />\n          </Col>\n        </Row>\n      )}\n      {data.length > 0 && (\n        <Row className=\"mt-4\">\n          <Col className=\"text-center\">\n            <Table striped bordered hover>\n              <thead style={{ fontWeight: \"bold\" }}>\n                <tr>\n                  <td>Lab Sr No</td>\n                  <td> Full Name </td>\n                  <td> Date Examined </td>\n                  <td> Date Expiry </td>\n                  <td> Date Of Birth </td>\n                  <td> Passport No </td>\n                  <td> Edit </td>\n                  <td> Delete </td>\n                </tr>\n              </thead>\n              <tbody>\n                {data.map((doc) => {\n                  return (\n                    <tr key={doc.id}>\n                      <td>{doc.data().labSrNo}</td>\n                      <td>{doc.data().fullName}</td>\n                      <td>{doc.data().dateExamined}</td>\n                      <td>{doc.data().dateExpiry}</td>\n                      <td>{doc.data().dob}</td>\n                      <td>{doc.data().passport}</td>\n                      <td>\n                        <Link\n                          to={`/dashboard/report?edit=${doc.data().labSrNo}`}\n                        >\n                          Edit\n                        </Link>\n                      </td>\n                      <td>\n                        <Button\n                          variant=\"danger\"\n                          onClick={() => deleteReport(doc.id)}\n                          disabled={removing}\n                        >\n                          Delete\n                        </Button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </Table>\n          </Col>\n        </Row>\n      )}\n      {data.length === 0 && (\n        <Row>\n          <Col className=\"text-center\">\n            <p>No Records</p>\n          </Col>\n        </Row>\n      )}\n    </Container>\n  );\n}\nexport default FindReport;\n","/mnt/c/Users/imran/Projects/lab-report-system/src/pdfLib.js",[],"/mnt/c/Users/imran/Projects/lab-report-system/src/config.js",[],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":6,"column":57,"nodeType":"80","messageId":"81","endLine":6,"endColumn":63},{"ruleId":"82","severity":1,"message":"83","line":345,"column":6,"nodeType":"84","endLine":345,"endColumn":8,"suggestions":"85"},{"ruleId":"86","severity":1,"message":"87","line":35,"column":24,"nodeType":"88","messageId":"89","endLine":35,"endColumn":26},"no-native-reassign",["90"],"no-negated-in-lhs",["91"],"no-unused-vars","'Signup' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'location.search'. Either include them or remove the dependency array.","ArrayExpression",["92"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"93","fix":"94"},"Update the dependencies array to be: [history, location.search]",{"range":"95","text":"96"},[10565,10567],"[history, location.search]"]